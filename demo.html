<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="jquery-1.8.3/jquery.min.js"></script>
</head>
<body>
    <div class="div">
        <p>测试文本1</p>
        <p>测试文本2</p>
        <img src="images/1.jpg" alt=""/>
        <p>测试文本3</p>
        <img src="images/上传图片.png" alt=""/>
        <p>测试文本4</p>
    </div>

</body>
<script>
    console.log($("div").html());

    toJSONString("div")


//判断对象是否含有某个属性
function hasPrototype(object,name){
        return !object.hasOwnProperty(name)&&(name in object);
    }
//自己封装
function toJSONString(ele){
        var obj={};
        var arr =[];
        $(ele).children().each(function (i,v) {

            if(hasPrototype(v, "src")){
                obj.type = "image" ;
                obj.content=$(this).attr("src");
            }
            else{
                obj.type = "text" ;
                obj.content=$(this).text();
            }

            var obj1 =JSON.stringify(obj);
//        var obj2 =eval("("+obj1 +")")  //字符串转对象

//        var obj2 =JSON.parse(obj1)   //字符串转对象

//        console.log(typeof obj2);

            arr[i]=obj1 //数组里面字符串

//        arr[i] =obj2 //数组里面是对象

        })

        console.log(arr);
        var str = arr.toString()
        console.log(str);
        console.log(typeof str);
        var str1 ="[";
        var str2 ="]";
        console.log(str1.concat(str,str2));
        console.log(typeof str1.concat(str,str2));
    }

</script>

<script>
//   修改对象的key的名字
//    var key = 'abc';
//    var obj = {key : '值'};
//    // 复制原来的值
//    obj[key] = obj['key'];
//    // 删除原来的键
//    delete obj['key'];
//    // 检查效果
//    alert(obj.abc);
</script>

</html>
